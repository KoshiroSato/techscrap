<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>記事一覧</title>
        <link rel="stylesheet" th:href="@{/css/style.css}">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <h1>記事一覧</h1>

        <form action="/" method="get">
            <input type="text" name="q" placeholder="検索キーワード" th:value="${keyword}">
            <button type="submit">検索</button>
        </form>

        <a href="/form">新規追加</a>
        <a href="/starred">★お気に入り</a> 

        <ul>
            <li th:each="article : ${articles}">
                <div style="display: flex; align-items: center; gap: 1em;">
                    <img th:if="${article.ogImageUrl != null}" th:src="${article.ogImageUrl}" alt="thumbnail" style="width: 100px; height: auto; border-radius: 4px;">
                    <div>
                        <a th:href="${article.url}" th:text="${article.title}"></a>
                        <div th:text="${article.memo}"></div>
                        <form th:action="@{'/delete/' + ${article.id}}" method="post" style="display:inline;">
                            <button type="submit" onclick="return confirm('本当に削除しますか？')">削除</button>
                        </form>
                        <form th:action="@{'/star/' + ${article.id}}" method="post" style="display:inline;">
                            <button type="submit" th:text="${article.starred} ? '★' : '☆'"></button>
                        </form>
                    </div>
                </div>
            </li>
        </ul>
        <div class="back-to-top">
            <a href="/" class="btn btn-primary">トップ画面に戻る</a>
        </div>
    </body>
</html>